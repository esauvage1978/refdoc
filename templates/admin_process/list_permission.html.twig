{% extends 'admin_process/layout.html.twig' %}
{% import "macros/widgets.html.twig" as widgets %}

{% block title %}{{ app_name }} - Permission sur les processus{% endblock %}
{% block page_title %}{{ widgets.icon('mprocess') }} Permission sur les processus{% endblock %}


{% block breadcrumb %}
    {% import domaine~"/actions.html.twig" as actions %}
    {{ actions.admin(
        'list_permission',
        is_granted('ROLE_GESTIONNAIRE'),
        null,
        domaine
    ) }}
{% endblock %}

{% block page_content %}
    <div class="row justify-content-center">
        <table class="table table-hover">
            <thead>
            <tr>
                <th class="text-center">
                    processus
                </th>
                <th class="text-center">
                    Valideur
                </th>
                <th class="text-center">
                    Contributeur
                </th>
            </tr>
            </thead>
            <tbody>

            {% import "macros/user.html.twig" as user %}
            {% for item in items %}
                <tr>
                    <td class="align-middle">
                        <a href="{{ path(route_show,{id:item.id}) }}">
                            {{ item.fullname | raw }}
                        </a>
                        <p>
                            <small class=" text-muted">
                                {{ item.grouping }}
                            </small>
                        </p>
                    </td>
                    <td class="align-middle">
                        {{ user.views(item.validators) }}
                    </td>
                    <td class="align-middle">
                         {{ user.views(item.contributors) }}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}